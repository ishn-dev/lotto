(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3053)}])},3053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(4848),s=r(6540),n=r(4164),l=r(856);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,n.$)(t))}let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});c.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:i("p-6 pt-0",r),...s})});h.displayName="CardContent";var m=r(4809),u=r.n(m),x=r(2543),b=r.n(x);let g=e=>{let{predictions:t}=e;return t?(0,a.jsxs)(c,{children:[(0,a.jsxs)(d,{className:"flex flex-row justify-between items-center",children:[(0,a.jsx)(o,{className:"text-right",children:"הצעות להגרלה הבאה"}),(0,a.jsx)("button",{onClick:()=>{let e=t.map((e,t)=>"הצעה ".concat(t+1,": ").concat(e.join(", "))).join("\n");navigator.clipboard.writeText(e).then(()=>alert("כל ההצעות הועתקו ללוח")).catch(()=>alert("שגיאה בהעתקה"))},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"העתק את כל ההצעות"})]}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-4 text-right",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"p-2 bg-gray-100 rounded flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.join(", ")).then(()=>alert("המספרים הועתקו ללוח")).catch(()=>alert("שגיאה בהעתקה"))},className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"העתק"}),(0,a.jsxs)("span",{children:["הצעה ",t+1,": ",e.join(", ")]})]},t))})})]}):null},p=e=>{let{analysis:t}=e;if(!t)return null;let[r,n]=(0,s.useState)("recent"),l=b().orderBy(t.predictions,e=>e.bestPrediction.matchingNumbers.length,"desc"),i="recent"===r?t.predictions.slice(0,10):l.slice(0,10);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:(0,a.jsx)(o,{className:"text-right",children:"סטטיסטיקת ניבוי"})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"space-y-2 text-right",children:[(0,a.jsxs)("p",{children:["ממוצע מספרים תואמים: ",t.stats.averageMatches.toFixed(2)," מתוך 6"]}),(0,a.jsx)("h3",{className:"font-bold mt-4",children:"התפלגות הצלחות ניבוי:"}),Object.entries(t.stats.distribution).sort((e,t)=>{let[r]=e,[a]=t;return parseInt(a)-parseInt(r)}).map(e=>{let[r,s]=e;return(0,a.jsxs)("p",{children:[r," מספרים תואמים: ",s," פעמים (",(s/t.predictions.length*100).toFixed(1),"%)"]},r)})]})})]}),(0,a.jsxs)(c,{children:[(0,a.jsxs)(d,{className:"flex flex-row justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>n("recent"),className:"px-4 py-2 rounded ".concat("recent"===r?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"10 הגרלות אחרונות"}),(0,a.jsx)("button",{onClick:()=>n("best"),className:"px-4 py-2 rounded ".concat("best"===r?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"10 תוצאות טובות ביותר"})]}),(0,a.jsx)(o,{className:"text-right",children:"recent"===r?"10 הגרלות אחרונות":"התוצאות הטובות ביותר"})]}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"space-y-4 text-right",children:i.map((e,t)=>(0,a.jsxs)("div",{className:"p-2 bg-gray-100 rounded",children:[(0,a.jsxs)("p",{className:"font-bold",children:["הגרלה ",e.drawNumber," - ",e.date,"(",e.bestPrediction.matchingNumbers.length," התאמות)"]}),(0,a.jsxs)("p",{children:["תוצאה בפועל: ",e.actual.join(", ")]}),(0,a.jsxs)("p",{children:["הניבוי הטוב ביותר: ",e.bestPrediction.predicted.join(", ")]}),(0,a.jsxs)("p",{children:["מספרים שנוחשו נכון: ",e.bestPrediction.matchingNumbers.join(", ")]}),(0,a.jsxs)("p",{children:["דיוק: ",e.bestPrediction.accuracy.toFixed(1),"%"]})]},t))})})]})]})},j={drawsToAnalyze:100,historicalDepth:150,combinations:16,hotNumberWeight:1.5,coldNumberWeight:1.4,maxSequentialNumbers:3,recentNumberWeight:1.3,maxNumbersPerRow:3,statisticalCorrectionRate:.3,range1_7:2,range8_17:1,range18_27:2,range28_37:1},N=()=>{let[e,t]=(0,s.useState)(j),[r,n]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),N=(e,t,r)=>{if([e.filter(e=>e>=1&&e<=7).length,e.filter(e=>e>=8&&e<=17).length,e.filter(e=>e>=18&&e<=27).length,e.filter(e=>e>=28&&e<=37).length].some(e=>e>r.maxNumbersPerRow))return!1;let a=[...e].sort((e,t)=>e-t);for(let e=0;e<a.length-(r.maxSequentialNumbers-1);e++)if(a[e+r.maxSequentialNumbers-1]===a[e]+r.maxSequentialNumbers-1)return!1;return!!e.some(e=>t.has(e))},f=(e,t)=>{let r={};for(let e=1;e<=37;e++)r[e]=0;e.slice(0,t.historicalDepth).forEach(e=>{e.numbers.forEach(e=>r[e]++)});let a=Object.entries(r).sort((e,t)=>t[1]-e[1]).map(e=>{let[t]=e;return parseInt(t)}),s=new Set(a.slice(0,8)),n=new Set(a.slice(-8)),l=new Set(e.slice(0,2).flatMap(e=>e.numbers)),i=[],c=0;for(;i.length<t.combinations&&c<1e3;){c++;let e=Array(37).fill(1).map((e,r)=>{let a=1;return s.has(r+1)&&(a*=.5>Math.random()?t.hotNumberWeight:.8),n.has(r+1)&&(a*=Math.random()<t.statisticalCorrectionRate?t.coldNumberWeight:.9),l.has(r+1)&&(a*=t.recentNumberWeight),a}),r=new Set;for(;r.size<6;){let t=Math.random()*e.reduce((e,t)=>e+t,0),a=0;for(let r=0;r<e.length;r++)if((t-=e[r])<=0){a=r;break}r.add(a+1)}let a=Array.from(r).sort((e,t)=>e-t);N(a,l,t)&&i.push(a)}return i},y=async()=>{try{let t=await fetch("/lotto/Lotto last 400.txt"),r=await t.text(),a=u().parse(r,{header:!1,skipEmptyLines:!0,dynamicTyping:!0}).data.slice(1).map(e=>({drawNumber:e[0],date:e[1],numbers:e.slice(2,8).map(e=>String(e).padStart(2,"0")).map(Number).sort((e,t)=>e-t)})).filter(e=>e.numbers.every(e=>e>0&&e<=37)),s=f(a,e);i(s)}catch(e){console.error("Error generating predictions:",e)}},v=async()=>{try{let t=await fetch("/lotto/Lotto last 400.txt"),r=await t.text(),a=u().parse(r,{header:!1,skipEmptyLines:!0,dynamicTyping:!0}).data.slice(1).map(e=>({drawNumber:e[0],date:e[1],numbers:e.slice(2,8).map(e=>String(e).padStart(2,"0")).map(Number).sort((e,t)=>e-t)})).filter(e=>e.numbers.every(e=>e>0&&e<=37)),s=a.slice(0,e.drawsToAnalyze).map((t,r)=>{let s=a.slice(r+1),n=f(s,e),l=new Set(t.numbers),i=n.map(e=>{let t=e.filter(e=>l.has(e));return{predicted:e,matches:t.length,matchingNumbers:t,accuracy:t.length/6*100}});return{drawNumber:t.drawNumber,date:t.date,actual:t.numbers,predictions:i,bestPrediction:b().maxBy(i,"matches")}}),l=s.reduce((e,t)=>({totalMatches:e.totalMatches+t.bestPrediction.matches,predictions:[...e.predictions,t.bestPrediction.matches]}),{totalMatches:0,predictions:[]});n({predictions:s,stats:{averageMatches:l.totalMatches/s.length,distribution:b().countBy(l.predictions)}})}catch(e){console.error("Error analyzing data:",e)}};return(0,a.jsxs)("div",{className:"space-y-6 p-4",dir:"rtl",children:[(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:(0,a.jsx)(o,{className:"text-right",children:"הגדרות מודל"})}),(0,a.jsxs)(h,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 text-right",children:Object.entries(e).filter(e=>{let[t]=e;return!t.startsWith("range")}).map(r=>{let[s,n]=r;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:s}),(0,a.jsx)("input",{type:"number"==typeof n?"number":"text",step:"number"==typeof n&&n<1?"0.1":"1",value:n,onChange:r=>t({...e,[s]:"number"==typeof n?parseFloat(r.target.value):r.target.value}),className:"w-full p-2 border rounded text-right"})]},s)})}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h3",{className:"font-bold mb-4 text-right",children:"הגדרות טווחי מספרים (0-4 מספרים בכל טווח)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-right",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"כמות מספרים בטווח 1-7"}),(0,a.jsx)("input",{type:"number",min:"0",max:"4",value:e.range1_7,onChange:r=>t({...e,range1_7:parseInt(r.target.value)}),className:"w-full p-2 border rounded text-right"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"כמות מספרים בטווח 8-17"}),(0,a.jsx)("input",{type:"number",min:"0",max:"4",value:e.range8_17,onChange:r=>t({...e,range8_17:parseInt(r.target.value)}),className:"w-full p-2 border rounded text-right"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"כמות מספרים בטווח 18-27"}),(0,a.jsx)("input",{type:"number",min:"0",max:"4",value:e.range18_27,onChange:r=>t({...e,range18_27:parseInt(r.target.value)}),className:"w-full p-2 border rounded text-right"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1",children:"כמות מספרים בטווח 28-37"}),(0,a.jsx)("input",{type:"number",min:"0",max:"4",value:e.range28_37,onChange:r=>t({...e,range28_37:parseInt(r.target.value)}),className:"w-full p-2 border rounded text-right"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,a.jsx)("button",{onClick:v,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"הרץ ניתוח"}),(0,a.jsx)("button",{onClick:y,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"צור הצעות להגרלה הבאה"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-6 py-2 rounded ".concat(m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-500 text-white"),children:"הצג ניתוח היסטורי"}),(0,a.jsx)("button",{onClick:()=>x(!0),className:"px-6 py-2 rounded ".concat(m?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"הצג הצעות להגרלה הבאה"})]}),!m&&(0,a.jsx)(p,{analysis:r}),m&&l&&(0,a.jsx)(g,{predictions:l})]})};function f(){return(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-right",children:"מחולל הגרלות לוטו"}),(0,a.jsx)(N,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[570,575,636,593,792],()=>t(7276)),_N_E=e.O()}]);
